//timeoutMenu.js 0.1a https://github.com/shrue348/ Open source under the MIT License. Copyright © 2016 Aleksander Alekseev All rights reserved.
!function(e){e.fn.timeoutMenu=function(n){var n=e.extend({delay:200},n),t=!1,i=(e(document),e("body")),o=e(this),u=o.find("a"),a=o.find("a + ul"),d=function(){window.globalMenuTimeout=!1,a.hide(),i.on("touchmove",function(){t=!0}),i.on("",function(){t=!1}),u.on("mouseenter",l),u.on("touchend",s),o.on("mouseleave",p)},l=function(){window.clearTimeout(window.globalMenuTimeout),window.globalMenuTimeout=window.setTimeout(function(){e(this).trigger("touchend")}.bind(this),n.delay)},s=function(n){if(e(this).hasClass("tapped")){e(this).attr("href")}else e(this).parent().parent().find(".tapped").next("ul").hide(),e(this).parent().parent().find(".tapped").removeClass("tapped"),e(this).addClass("tapped"),e(this).next("ul").show(),n.stopImmediatePropagation(),n.preventDefault()},p=function(){window.clearTimeout(window.globalMenuTimeout),window.globalMenuTimeout=window.setTimeout(function(){o.find(".tapped").next("ul").hide(),o.find(".tapped").removeClass("tapped")},n.delay)};return this.each(d)}}(jQuery);