//timeoutMenu.js 0.11a https://github.com/shrue348/ Open source under the MIT License. Copyright Â© 2016 Aleksander Alekseev All rights reserved.
!function(t){t.fn.timeoutMenu=function(e){e=t.extend({delay:200},e);var n=!1,o=(t(document),t("body")),i=t(this),u=i.find("a"),a=i.find("a + ul"),s=function(){clearTimeout(globalMenuTimeout),globalMenuTimeout=setTimeout(function(){t(this).trigger("touchend")}.bind(this),e.delay)},l=function(e){if(t(this).next().is("ul"))if(t(this).hasClass("tapped"))t(this).attr("href");else t(this).parent().parent().find(".tapped").removeClass("tapped").next("ul").hide(),t(this).addClass("tapped").next("ul").show(),e.stopImmediatePropagation(),e.preventDefault();else{t(this).attr("href");t(this).parent().parent().find(".tapped").removeClass("tapped").next("ul").hide()}},d=function(){clearTimeout(globalMenuTimeout),globalMenuTimeout=setTimeout(function(){i.find(".tapped").removeClass("tapped").next("ul").hide()},e.delay)};return this.each(function(){globalMenuTimeout=!1,a.hide(),u.on("mouseenter",s),u.on("touchend",l),i.on("mouseleave",d),o.on("",function(){n=!1}),o.on("touchmove",function(){n=!0}),o.on("touchstart",function(){n=!1}),t(document).on("click touchstart",function(e){t(e.target).closest(i).length&&0==n||(d(),e.stopPropagation())})})}}(jQuery);
